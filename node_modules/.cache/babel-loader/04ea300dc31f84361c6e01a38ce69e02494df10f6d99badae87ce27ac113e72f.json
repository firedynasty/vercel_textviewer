{"ast":null,"code":"import _objectSpread from\"/Users/stanleytan/Documents/25-technical/01-github/vercel_textviewer/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useCallback}from'react';import Sidebar from'./components/Sidebar';import ContentViewer from'./components/ContentViewer';import ControlBar from'./components/ControlBar';import{processFiles,rtfToPlainText,isRtfFile}from'./utils/fileUtils';import{useTTS}from'./hooks/useTTS';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function TextViewer(){const[files,setFiles]=useState([]);const[currentIndex,setCurrentIndex]=useState(0);const[fontSize,setFontSize]=useState(18);const[darkMode,setDarkMode]=useState(false);const[isEditing,setIsEditing]=useState(false);const tts=useTTS();const[editContent,setEditContent]=useState('');const[imagePathToBlobUrl,setImagePathToBlobUrl]=useState({});const currentFile=files[currentIndex]||null;const handleFilesLoaded=useCallback(fileList=>{const result=processFiles(fileList);if(result.error){alert(result.error);return;}setFiles(result.files);setImagePathToBlobUrl(result.imagePathToBlobUrl||{});setCurrentIndex(0);setIsEditing(false);setEditContent('');},[]);const handleFileSelect=useCallback(index=>{if(isEditing){if(!window.confirm('You have unsaved changes. Discard them?')){return;}}setCurrentIndex(index);setIsEditing(false);setEditContent('');},[isEditing]);const handlePrev=useCallback(()=>{if(files.length===0)return;if(isEditing){if(!window.confirm('You have unsaved changes. Discard them?')){return;}setIsEditing(false);}setCurrentIndex(prev=>prev>0?prev-1:files.length-1);},[files.length,isEditing]);const handleNext=useCallback(()=>{if(files.length===0)return;if(isEditing){if(!window.confirm('You have unsaved changes. Discard them?')){return;}setIsEditing(false);}setCurrentIndex(prev=>prev<files.length-1?prev+1:0);},[files.length,isEditing]);const handleFontSizeChange=useCallback(delta=>{setFontSize(prev=>Math.max(10,Math.min(40,prev+delta)));},[]);const handleDarkModeToggle=useCallback(()=>{setDarkMode(prev=>!prev);},[]);const handleEdit=useCallback(()=>{if(!currentFile||currentFile.type!=='text'&&currentFile.type!=='markdown')return;// Fetch current content\nfetch(currentFile.url).then(res=>res.text()).then(text=>{setEditContent(text);setIsEditing(true);}).catch(err=>{console.error('Error loading file for edit:',err);alert('Error loading file for editing');});},[currentFile]);const handleSave=useCallback(()=>{if(!currentFile||!isEditing)return;// Create a new blob with the edited content\nconst blob=new Blob([editContent],{type:'text/plain'});const newUrl=URL.createObjectURL(blob);// Update the file in the array\nsetFiles(prevFiles=>{const newFiles=[...prevFiles];newFiles[currentIndex]=_objectSpread(_objectSpread({},newFiles[currentIndex]),{},{url:newUrl});return newFiles;});// Download the file\nconst a=document.createElement('a');a.href=newUrl;a.download=currentFile.originalName||\"\".concat(currentFile.key,\".txt\");a.click();setIsEditing(false);setEditContent('');},[currentFile,currentIndex,editContent,isEditing]);const handleCancel=useCallback(()=>{setIsEditing(false);setEditContent('');},[]);// Load text content for TTS when file changes\nuseEffect(()=>{if(currentFile&&(currentFile.type==='text'||currentFile.type==='rtf'||currentFile.type==='markdown')){fetch(currentFile.url).then(res=>res.text()).then(text=>{// Convert RTF to plain text if needed\nif(currentFile.originalName&&isRtfFile(currentFile.originalName)){text=rtfToPlainText(text);}tts.loadText(text);}).catch(err=>{console.error('Error loading file for TTS:',err);});}else{tts.loadText('');}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[currentFile]);// Keyboard navigation\nuseEffect(()=>{const handleKeyDown=e=>{// Don't handle keys when editing or in input fields\nif(isEditing)return;if(['INPUT','TEXTAREA','SELECT'].includes(e.target.tagName))return;if(e.key==='ArrowLeft'){handlePrev();}else if(e.key==='ArrowRight'){handleNext();}else if(e.key==='['){// TTS previous sentence\ntts.prevSentence();}else if(e.key===']'){// TTS next sentence\ntts.nextSentence();}};window.addEventListener('keydown',handleKeyDown);return()=>window.removeEventListener('keydown',handleKeyDown);},[handlePrev,handleNext,isEditing,tts]);// Global drag and drop\nuseEffect(()=>{const handleDragOver=e=>{e.preventDefault();};const handleDrop=e=>{e.preventDefault();};window.addEventListener('dragover',handleDragOver);window.addEventListener('drop',handleDrop);return()=>{window.removeEventListener('dragover',handleDragOver);window.removeEventListener('drop',handleDrop);};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"text-viewer \".concat(darkMode?'dark-mode':''),children:[/*#__PURE__*/_jsx(Sidebar,{files:files,currentIndex:currentIndex,onFileSelect:handleFileSelect}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-content\",children:[/*#__PURE__*/_jsx(ControlBar,{currentFile:currentFile,fontSize:fontSize,onFontSizeChange:handleFontSizeChange,darkMode:darkMode,onDarkModeToggle:handleDarkModeToggle,isEditing:isEditing,onEdit:handleEdit,onSave:handleSave,onCancel:handleCancel,onFilesLoaded:handleFilesLoaded,tts:tts}),/*#__PURE__*/_jsx(ContentViewer,{file:currentFile,fontSize:fontSize,isEditing:isEditing,editContent:editContent,onEditChange:setEditContent,imagePathToBlobUrl:imagePathToBlobUrl,onPrev:handlePrev,onNext:handleNext,onPlayFromSelection:tts.playFromSelection})]})]});}export default TextViewer;","map":{"version":3,"names":["React","useState","useEffect","useCallback","Sidebar","ContentViewer","ControlBar","processFiles","rtfToPlainText","isRtfFile","useTTS","jsx","_jsx","jsxs","_jsxs","TextViewer","files","setFiles","currentIndex","setCurrentIndex","fontSize","setFontSize","darkMode","setDarkMode","isEditing","setIsEditing","tts","editContent","setEditContent","imagePathToBlobUrl","setImagePathToBlobUrl","currentFile","handleFilesLoaded","fileList","result","error","alert","handleFileSelect","index","window","confirm","handlePrev","length","prev","handleNext","handleFontSizeChange","delta","Math","max","min","handleDarkModeToggle","handleEdit","type","fetch","url","then","res","text","catch","err","console","handleSave","blob","Blob","newUrl","URL","createObjectURL","prevFiles","newFiles","_objectSpread","a","document","createElement","href","download","originalName","concat","key","click","handleCancel","loadText","handleKeyDown","e","includes","target","tagName","prevSentence","nextSentence","addEventListener","removeEventListener","handleDragOver","preventDefault","handleDrop","className","children","onFileSelect","onFontSizeChange","onDarkModeToggle","onEdit","onSave","onCancel","onFilesLoaded","file","onEditChange","onPrev","onNext","onPlayFromSelection","playFromSelection"],"sources":["/Users/stanleytan/Documents/25-technical/01-github/vercel_textviewer/src/TextViewer.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport Sidebar from './components/Sidebar';\nimport ContentViewer from './components/ContentViewer';\nimport ControlBar from './components/ControlBar';\nimport { processFiles, rtfToPlainText, isRtfFile } from './utils/fileUtils';\nimport { useTTS } from './hooks/useTTS';\n\nfunction TextViewer() {\n  const [files, setFiles] = useState([]);\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [fontSize, setFontSize] = useState(18);\n  const [darkMode, setDarkMode] = useState(false);\n  const [isEditing, setIsEditing] = useState(false);\n\n  const tts = useTTS();\n  const [editContent, setEditContent] = useState('');\n  const [imagePathToBlobUrl, setImagePathToBlobUrl] = useState({});\n\n  const currentFile = files[currentIndex] || null;\n\n  const handleFilesLoaded = useCallback((fileList) => {\n    const result = processFiles(fileList);\n\n    if (result.error) {\n      alert(result.error);\n      return;\n    }\n\n    setFiles(result.files);\n    setImagePathToBlobUrl(result.imagePathToBlobUrl || {});\n    setCurrentIndex(0);\n    setIsEditing(false);\n    setEditContent('');\n  }, []);\n\n  const handleFileSelect = useCallback((index) => {\n    if (isEditing) {\n      if (!window.confirm('You have unsaved changes. Discard them?')) {\n        return;\n      }\n    }\n    setCurrentIndex(index);\n    setIsEditing(false);\n    setEditContent('');\n  }, [isEditing]);\n\n  const handlePrev = useCallback(() => {\n    if (files.length === 0) return;\n    if (isEditing) {\n      if (!window.confirm('You have unsaved changes. Discard them?')) {\n        return;\n      }\n      setIsEditing(false);\n    }\n    setCurrentIndex((prev) => (prev > 0 ? prev - 1 : files.length - 1));\n  }, [files.length, isEditing]);\n\n  const handleNext = useCallback(() => {\n    if (files.length === 0) return;\n    if (isEditing) {\n      if (!window.confirm('You have unsaved changes. Discard them?')) {\n        return;\n      }\n      setIsEditing(false);\n    }\n    setCurrentIndex((prev) => (prev < files.length - 1 ? prev + 1 : 0));\n  }, [files.length, isEditing]);\n\n  const handleFontSizeChange = useCallback((delta) => {\n    setFontSize((prev) => Math.max(10, Math.min(40, prev + delta)));\n  }, []);\n\n  const handleDarkModeToggle = useCallback(() => {\n    setDarkMode((prev) => !prev);\n  }, []);\n\n  const handleEdit = useCallback(() => {\n    if (!currentFile || (currentFile.type !== 'text' && currentFile.type !== 'markdown')) return;\n\n    // Fetch current content\n    fetch(currentFile.url)\n      .then(res => res.text())\n      .then(text => {\n        setEditContent(text);\n        setIsEditing(true);\n      })\n      .catch(err => {\n        console.error('Error loading file for edit:', err);\n        alert('Error loading file for editing');\n      });\n  }, [currentFile]);\n\n  const handleSave = useCallback(() => {\n    if (!currentFile || !isEditing) return;\n\n    // Create a new blob with the edited content\n    const blob = new Blob([editContent], { type: 'text/plain' });\n    const newUrl = URL.createObjectURL(blob);\n\n    // Update the file in the array\n    setFiles(prevFiles => {\n      const newFiles = [...prevFiles];\n      newFiles[currentIndex] = {\n        ...newFiles[currentIndex],\n        url: newUrl\n      };\n      return newFiles;\n    });\n\n    // Download the file\n    const a = document.createElement('a');\n    a.href = newUrl;\n    a.download = currentFile.originalName || `${currentFile.key}.txt`;\n    a.click();\n\n    setIsEditing(false);\n    setEditContent('');\n  }, [currentFile, currentIndex, editContent, isEditing]);\n\n  const handleCancel = useCallback(() => {\n    setIsEditing(false);\n    setEditContent('');\n  }, []);\n\n  // Load text content for TTS when file changes\n  useEffect(() => {\n    if (currentFile && (currentFile.type === 'text' || currentFile.type === 'rtf' || currentFile.type === 'markdown')) {\n      fetch(currentFile.url)\n        .then(res => res.text())\n        .then(text => {\n          // Convert RTF to plain text if needed\n          if (currentFile.originalName && isRtfFile(currentFile.originalName)) {\n            text = rtfToPlainText(text);\n          }\n          tts.loadText(text);\n        })\n        .catch(err => {\n          console.error('Error loading file for TTS:', err);\n        });\n    } else {\n      tts.loadText('');\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentFile]);\n\n  // Keyboard navigation\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      // Don't handle keys when editing or in input fields\n      if (isEditing) return;\n      if (['INPUT', 'TEXTAREA', 'SELECT'].includes(e.target.tagName)) return;\n\n      if (e.key === 'ArrowLeft') {\n        handlePrev();\n      } else if (e.key === 'ArrowRight') {\n        handleNext();\n      } else if (e.key === '[') {\n        // TTS previous sentence\n        tts.prevSentence();\n      } else if (e.key === ']') {\n        // TTS next sentence\n        tts.nextSentence();\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [handlePrev, handleNext, isEditing, tts]);\n\n  // Global drag and drop\n  useEffect(() => {\n    const handleDragOver = (e) => {\n      e.preventDefault();\n    };\n\n    const handleDrop = (e) => {\n      e.preventDefault();\n    };\n\n    window.addEventListener('dragover', handleDragOver);\n    window.addEventListener('drop', handleDrop);\n\n    return () => {\n      window.removeEventListener('dragover', handleDragOver);\n      window.removeEventListener('drop', handleDrop);\n    };\n  }, []);\n\n  return (\n    <div className={`text-viewer ${darkMode ? 'dark-mode' : ''}`}>\n      <Sidebar\n        files={files}\n        currentIndex={currentIndex}\n        onFileSelect={handleFileSelect}\n      />\n\n      <div className=\"main-content\">\n        <ControlBar\n          currentFile={currentFile}\n          fontSize={fontSize}\n          onFontSizeChange={handleFontSizeChange}\n          darkMode={darkMode}\n          onDarkModeToggle={handleDarkModeToggle}\n          isEditing={isEditing}\n          onEdit={handleEdit}\n          onSave={handleSave}\n          onCancel={handleCancel}\n          onFilesLoaded={handleFilesLoaded}\n          tts={tts}\n        />\n\n        <ContentViewer\n          file={currentFile}\n          fontSize={fontSize}\n          isEditing={isEditing}\n          editContent={editContent}\n          onEditChange={setEditContent}\n          imagePathToBlobUrl={imagePathToBlobUrl}\n          onPrev={handlePrev}\n          onNext={handleNext}\n          onPlayFromSelection={tts.playFromSelection}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default TextViewer;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}