{"ast":null,"code":"// File type detection utilities\nconst VIDEO_EXTENSIONS=['.mp4','.webm','.ogg','.mov','.avi','.mkv','.m4v'];const IMAGE_EXTENSIONS=['.jpg','.jpeg','.png','.gif','.bmp','.webp','.tiff','.svg'];const TEXT_EXTENSIONS=['.txt','.rtf'];const MARKDOWN_EXTENSIONS=['.md'];export function isVideoFile(filename){const lower=filename.toLowerCase();return VIDEO_EXTENSIONS.some(ext=>lower.endsWith(ext));}export function isImageFile(filename){const lower=filename.toLowerCase();return IMAGE_EXTENSIONS.some(ext=>lower.endsWith(ext));}export function isTextFile(filename){const lower=filename.toLowerCase();return TEXT_EXTENSIONS.some(ext=>lower.endsWith(ext));}export function isMarkdownFile(filename){const lower=filename.toLowerCase();return MARKDOWN_EXTENSIONS.some(ext=>lower.endsWith(ext));}export function isRtfFile(filename){return filename.toLowerCase().endsWith('.rtf');}export function isValidFile(filename){return isVideoFile(filename)||isImageFile(filename)||isTextFile(filename)||isMarkdownFile(filename);}export function getFileType(filename){if(isMarkdownFile(filename))return'markdown';if(isTextFile(filename))return'text';if(isVideoFile(filename))return'video';if(isImageFile(filename))return'image';return'unknown';}export function getFileExtension(filename){const match=filename.match(/\\.[^.]+$/);return match?match[0].toLowerCase():'';}export function getDisplayName(filename){// Remove extension and return clean display name\nreturn filename.replace(/\\.[^.]+$/,'');}// RTF to plain text converter (fallback for when rtf-parser fails)\nexport function rtfToPlainText(rtf){// Check if this is actually RTF content\nif(!rtf.trim().startsWith('{\\\\rtf')){return rtf;// Not RTF, return as-is\n}// Remove nested groups (like fonttbl, colortbl, etc.) by counting braces\nfunction removeNestedGroups(text,groupName){const pattern=new RegExp('\\\\{\\\\\\\\'+groupName,'gi');let result='';let i=0;while(i<text.length){const match=text.slice(i).match(pattern);if(match&&text.slice(i).indexOf(match[0])===0){// Found a group to remove, skip until balanced braces\nlet depth=1;i+=match[0].length;while(i<text.length&&depth>0){if(text[i]==='{')depth++;else if(text[i]==='}')depth--;i++;}}else{result+=text[i];i++;}}return result;}let text=rtf;// Remove various RTF groups that don't contain readable text\nconst groupsToRemove=['fonttbl','colortbl','stylesheet','listtable','listoverridetable','info','expandedcolortbl','\\\\*\\\\expandedcolortbl','\\\\*\\\\listtable','\\\\*\\\\listoverridetable','listtext'];for(const group of groupsToRemove){text=removeNestedGroups(text,group.replace(/\\\\/g,'\\\\\\\\'));}// Remove {\\*\\...} destination groups\ntext=text.replace(/\\{\\\\\\*\\\\[^{}]*\\}/g,'');// Handle hex characters (\\'XX)\ntext=text.replace(/\\\\'([0-9a-fA-F]{2})/g,(match,hex)=>{const code=parseInt(hex,16);// Map Windows-1252 special chars to Unicode\nconst win1252Map={0x92:\"'\",0x93:'\"',0x94:'\"',0x96:'–',0x97:'—',0x85:'…',0x91:\"'\",0xa0:' '};return win1252Map[code]||String.fromCharCode(code);});// Handle Unicode characters (\\uN followed by replacement char)\ntext=text.replace(/\\\\u(-?\\d+)[\\s\\\\]?/g,(match,code)=>{const charCode=parseInt(code);if(charCode<0)return String.fromCharCode(charCode+65536);return String.fromCharCode(charCode);});// Replace RTF control words with their meaning\ntext=text.replace(/\\\\par\\b/g,'\\n');text=text.replace(/\\\\line\\b/g,'\\n');text=text.replace(/\\\\tab\\b/g,'\\t');text=text.replace(/\\\\\\n/g,'\\n');text=text.replace(/\\\\~/g,' ');text=text.replace(/\\\\_/g,'-');text=text.replace(/\\\\\\{/g,'{');text=text.replace(/\\\\\\}/g,'}');text=text.replace(/\\\\\\\\/g,'\\\\');// Remove all other control words\ntext=text.replace(/\\\\[a-z]+(-?\\d+)?\\s?/gi,'');// Remove remaining braces\ntext=text.replace(/[{}]/g,'');// Clean up whitespace\ntext=text.replace(/\\r\\n/g,'\\n');text=text.replace(/\\r/g,'\\n');text=text.replace(/\\n{3,}/g,'\\n\\n');text=text.replace(/[ \\t]+/g,' ');text=text.replace(/^ +/gm,'');text=text.trim();return text;}// Process files from drag-drop or folder input\nexport function processFiles(files){const filesArray=Array.from(files);// Filter for valid files\nconst validFiles=filesArray.filter(file=>isValidFile(file.name));if(validFiles.length===0){return{files:[],error:'No valid files found. Please upload images, videos, text, or markdown files.'};}// Organize files by subdirectory\nconst filesByFolder={};const rootFiles=[];const imagePathToBlobUrl={};const MAX_DEPTH=2;validFiles.forEach(file=>{const relativePath=file.webkitRelativePath||file.name;const pathParts=relativePath.split('/');// Store blob URLs for images (for markdown image references)\nif(isImageFile(file.name)){const blobUrl=URL.createObjectURL(file);const relativePathFromRoot=pathParts.length>1?pathParts.slice(1).join('/'):file.name;imagePathToBlobUrl[relativePathFromRoot]=blobUrl;imagePathToBlobUrl['./'+relativePathFromRoot]=blobUrl;}if(pathParts.length<=2){// Root file or file in root of selected folder\nrootFiles.push(file);}else{const depth=pathParts.length-2;if(depth<=MAX_DEPTH){const subfolderPath=pathParts.slice(1,-1).join('/');if(!filesByFolder[subfolderPath]){filesByFolder[subfolderPath]=[];}filesByFolder[subfolderPath].push(file);}}});// Build the gallery items array\nconst galleryItems=[];let itemIndex=0;// Natural sort function\nconst naturalSort=(a,b)=>{const aName=a.name||a.webkitRelativePath.split('/').pop();const bName=b.name||b.webkitRelativePath.split('/').pop();return aName.localeCompare(bName,undefined,{numeric:true,sensitivity:'base'});};// Sort folder names\nconst folderNames=Object.keys(filesByFolder).sort((a,b)=>a.localeCompare(b,undefined,{numeric:true,sensitivity:'base'}));// Add root files first\nif(rootFiles.length>0){// Add divider for root files if there are also folders\nif(folderNames.length>0){galleryItems.push({key:'./',type:'divider',url:null});}rootFiles.sort(naturalSort);rootFiles.forEach(file=>{const objectURL=URL.createObjectURL(file);const displayName=getDisplayName(file.name);const fileType=getFileType(file.name);galleryItems.push({key:\"\".concat(++itemIndex,\"_\").concat(displayName),url:objectURL,type:fileType,file:file,originalName:file.name});});}// Add files by folder\nfolderNames.forEach(folderName=>{const folderFiles=filesByFolder[folderName];folderFiles.sort(naturalSort);// Add divider\ngalleryItems.push({key:folderName,type:'divider',url:null});// Add files\nfolderFiles.forEach(file=>{const objectURL=URL.createObjectURL(file);const displayName=getDisplayName(file.name);const fileType=getFileType(file.name);galleryItems.push({key:\"\".concat(++itemIndex,\"_\").concat(displayName),url:objectURL,type:fileType,file:file,originalName:file.name});});});return{files:galleryItems,imagePathToBlobUrl,error:null};}","map":{"version":3,"names":["VIDEO_EXTENSIONS","IMAGE_EXTENSIONS","TEXT_EXTENSIONS","MARKDOWN_EXTENSIONS","isVideoFile","filename","lower","toLowerCase","some","ext","endsWith","isImageFile","isTextFile","isMarkdownFile","isRtfFile","isValidFile","getFileType","getFileExtension","match","getDisplayName","replace","rtfToPlainText","rtf","trim","startsWith","removeNestedGroups","text","groupName","pattern","RegExp","result","i","length","slice","indexOf","depth","groupsToRemove","group","hex","code","parseInt","win1252Map","String","fromCharCode","charCode","processFiles","files","filesArray","Array","from","validFiles","filter","file","name","error","filesByFolder","rootFiles","imagePathToBlobUrl","MAX_DEPTH","forEach","relativePath","webkitRelativePath","pathParts","split","blobUrl","URL","createObjectURL","relativePathFromRoot","join","push","subfolderPath","galleryItems","itemIndex","naturalSort","a","b","aName","pop","bName","localeCompare","undefined","numeric","sensitivity","folderNames","Object","keys","sort","key","type","url","objectURL","displayName","fileType","concat","originalName","folderName","folderFiles"],"sources":["/Users/stanleytan/Documents/25-technical/01-github/vercel_textviewer/src/utils/fileUtils.js"],"sourcesContent":["// File type detection utilities\n\nconst VIDEO_EXTENSIONS = ['.mp4', '.webm', '.ogg', '.mov', '.avi', '.mkv', '.m4v'];\nconst IMAGE_EXTENSIONS = ['.jpg', '.jpeg', '.png', '.gif', '.bmp', '.webp', '.tiff', '.svg'];\nconst TEXT_EXTENSIONS = ['.txt', '.rtf'];\nconst MARKDOWN_EXTENSIONS = ['.md'];\n\nexport function isVideoFile(filename) {\n  const lower = filename.toLowerCase();\n  return VIDEO_EXTENSIONS.some(ext => lower.endsWith(ext));\n}\n\nexport function isImageFile(filename) {\n  const lower = filename.toLowerCase();\n  return IMAGE_EXTENSIONS.some(ext => lower.endsWith(ext));\n}\n\nexport function isTextFile(filename) {\n  const lower = filename.toLowerCase();\n  return TEXT_EXTENSIONS.some(ext => lower.endsWith(ext));\n}\n\nexport function isMarkdownFile(filename) {\n  const lower = filename.toLowerCase();\n  return MARKDOWN_EXTENSIONS.some(ext => lower.endsWith(ext));\n}\n\nexport function isRtfFile(filename) {\n  return filename.toLowerCase().endsWith('.rtf');\n}\n\nexport function isValidFile(filename) {\n  return isVideoFile(filename) || isImageFile(filename) || isTextFile(filename) || isMarkdownFile(filename);\n}\n\nexport function getFileType(filename) {\n  if (isMarkdownFile(filename)) return 'markdown';\n  if (isTextFile(filename)) return 'text';\n  if (isVideoFile(filename)) return 'video';\n  if (isImageFile(filename)) return 'image';\n  return 'unknown';\n}\n\nexport function getFileExtension(filename) {\n  const match = filename.match(/\\.[^.]+$/);\n  return match ? match[0].toLowerCase() : '';\n}\n\nexport function getDisplayName(filename) {\n  // Remove extension and return clean display name\n  return filename.replace(/\\.[^.]+$/, '');\n}\n\n// RTF to plain text converter (fallback for when rtf-parser fails)\nexport function rtfToPlainText(rtf) {\n  // Check if this is actually RTF content\n  if (!rtf.trim().startsWith('{\\\\rtf')) {\n    return rtf; // Not RTF, return as-is\n  }\n\n  // Remove nested groups (like fonttbl, colortbl, etc.) by counting braces\n  function removeNestedGroups(text, groupName) {\n    const pattern = new RegExp('\\\\{\\\\\\\\' + groupName, 'gi');\n    let result = '';\n    let i = 0;\n    while (i < text.length) {\n      const match = text.slice(i).match(pattern);\n      if (match && text.slice(i).indexOf(match[0]) === 0) {\n        // Found a group to remove, skip until balanced braces\n        let depth = 1;\n        i += match[0].length;\n        while (i < text.length && depth > 0) {\n          if (text[i] === '{') depth++;\n          else if (text[i] === '}') depth--;\n          i++;\n        }\n      } else {\n        result += text[i];\n        i++;\n      }\n    }\n    return result;\n  }\n\n  let text = rtf;\n\n  // Remove various RTF groups that don't contain readable text\n  const groupsToRemove = [\n    'fonttbl', 'colortbl', 'stylesheet', 'listtable', 'listoverridetable',\n    'info', 'expandedcolortbl', '\\\\*\\\\expandedcolortbl', '\\\\*\\\\listtable',\n    '\\\\*\\\\listoverridetable', 'listtext'\n  ];\n  for (const group of groupsToRemove) {\n    text = removeNestedGroups(text, group.replace(/\\\\/g, '\\\\\\\\'));\n  }\n\n  // Remove {\\*\\...} destination groups\n  text = text.replace(/\\{\\\\\\*\\\\[^{}]*\\}/g, '');\n\n  // Handle hex characters (\\'XX)\n  text = text.replace(/\\\\'([0-9a-fA-F]{2})/g, (match, hex) => {\n    const code = parseInt(hex, 16);\n    // Map Windows-1252 special chars to Unicode\n    const win1252Map = {\n      0x92: \"'\", 0x93: '\"', 0x94: '\"', 0x96: '–', 0x97: '—',\n      0x85: '…', 0x91: \"'\", 0xa0: ' '\n    };\n    return win1252Map[code] || String.fromCharCode(code);\n  });\n\n  // Handle Unicode characters (\\uN followed by replacement char)\n  text = text.replace(/\\\\u(-?\\d+)[\\s\\\\]?/g, (match, code) => {\n    const charCode = parseInt(code);\n    if (charCode < 0) return String.fromCharCode(charCode + 65536);\n    return String.fromCharCode(charCode);\n  });\n\n  // Replace RTF control words with their meaning\n  text = text.replace(/\\\\par\\b/g, '\\n');\n  text = text.replace(/\\\\line\\b/g, '\\n');\n  text = text.replace(/\\\\tab\\b/g, '\\t');\n  text = text.replace(/\\\\\\n/g, '\\n');\n  text = text.replace(/\\\\~/g, ' ');\n  text = text.replace(/\\\\_/g, '-');\n  text = text.replace(/\\\\\\{/g, '{');\n  text = text.replace(/\\\\\\}/g, '}');\n  text = text.replace(/\\\\\\\\/g, '\\\\');\n\n  // Remove all other control words\n  text = text.replace(/\\\\[a-z]+(-?\\d+)?\\s?/gi, '');\n\n  // Remove remaining braces\n  text = text.replace(/[{}]/g, '');\n\n  // Clean up whitespace\n  text = text.replace(/\\r\\n/g, '\\n');\n  text = text.replace(/\\r/g, '\\n');\n  text = text.replace(/\\n{3,}/g, '\\n\\n');\n  text = text.replace(/[ \\t]+/g, ' ');\n  text = text.replace(/^ +/gm, '');\n  text = text.trim();\n\n  return text;\n}\n\n// Process files from drag-drop or folder input\nexport function processFiles(files) {\n  const filesArray = Array.from(files);\n\n  // Filter for valid files\n  const validFiles = filesArray.filter(file => isValidFile(file.name));\n\n  if (validFiles.length === 0) {\n    return { files: [], error: 'No valid files found. Please upload images, videos, text, or markdown files.' };\n  }\n\n  // Organize files by subdirectory\n  const filesByFolder = {};\n  const rootFiles = [];\n  const imagePathToBlobUrl = {};\n  const MAX_DEPTH = 2;\n\n  validFiles.forEach(file => {\n    const relativePath = file.webkitRelativePath || file.name;\n    const pathParts = relativePath.split('/');\n\n    // Store blob URLs for images (for markdown image references)\n    if (isImageFile(file.name)) {\n      const blobUrl = URL.createObjectURL(file);\n      const relativePathFromRoot = pathParts.length > 1 ? pathParts.slice(1).join('/') : file.name;\n      imagePathToBlobUrl[relativePathFromRoot] = blobUrl;\n      imagePathToBlobUrl['./' + relativePathFromRoot] = blobUrl;\n    }\n\n    if (pathParts.length <= 2) {\n      // Root file or file in root of selected folder\n      rootFiles.push(file);\n    } else {\n      const depth = pathParts.length - 2;\n      if (depth <= MAX_DEPTH) {\n        const subfolderPath = pathParts.slice(1, -1).join('/');\n        if (!filesByFolder[subfolderPath]) {\n          filesByFolder[subfolderPath] = [];\n        }\n        filesByFolder[subfolderPath].push(file);\n      }\n    }\n  });\n\n  // Build the gallery items array\n  const galleryItems = [];\n  let itemIndex = 0;\n\n  // Natural sort function\n  const naturalSort = (a, b) => {\n    const aName = a.name || a.webkitRelativePath.split('/').pop();\n    const bName = b.name || b.webkitRelativePath.split('/').pop();\n    return aName.localeCompare(bName, undefined, { numeric: true, sensitivity: 'base' });\n  };\n\n  // Sort folder names\n  const folderNames = Object.keys(filesByFolder).sort((a, b) =>\n    a.localeCompare(b, undefined, { numeric: true, sensitivity: 'base' })\n  );\n\n  // Add root files first\n  if (rootFiles.length > 0) {\n    // Add divider for root files if there are also folders\n    if (folderNames.length > 0) {\n      galleryItems.push({\n        key: './',\n        type: 'divider',\n        url: null\n      });\n    }\n\n    rootFiles.sort(naturalSort);\n\n    rootFiles.forEach(file => {\n      const objectURL = URL.createObjectURL(file);\n      const displayName = getDisplayName(file.name);\n      const fileType = getFileType(file.name);\n\n      galleryItems.push({\n        key: `${++itemIndex}_${displayName}`,\n        url: objectURL,\n        type: fileType,\n        file: file,\n        originalName: file.name\n      });\n    });\n  }\n\n  // Add files by folder\n  folderNames.forEach(folderName => {\n    const folderFiles = filesByFolder[folderName];\n    folderFiles.sort(naturalSort);\n\n    // Add divider\n    galleryItems.push({\n      key: folderName,\n      type: 'divider',\n      url: null\n    });\n\n    // Add files\n    folderFiles.forEach(file => {\n      const objectURL = URL.createObjectURL(file);\n      const displayName = getDisplayName(file.name);\n      const fileType = getFileType(file.name);\n\n      galleryItems.push({\n        key: `${++itemIndex}_${displayName}`,\n        url: objectURL,\n        type: fileType,\n        file: file,\n        originalName: file.name\n      });\n    });\n  });\n\n  return {\n    files: galleryItems,\n    imagePathToBlobUrl,\n    error: null\n  };\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}